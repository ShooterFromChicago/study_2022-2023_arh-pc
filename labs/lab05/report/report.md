**РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**

**Факультет физико-математических и естественных наук**

**Кафедра прикладной информатики и теории вероятностей**

**ОТЧЕТ**

**по лабораторной работе № [5]{.ul}**

*[дисциплина: Архитектура компьютера]{.ul}*

[Студент: Волгин А.А.]{.ul}

Группа: НПИбд-01-22

**МОСКВА**

2022 г.

**Цель работы:**

Освоение процедуры компиляции и сборки программ, написанных на
ассемблере NASM.

**Порядок выполнения лабораторной работы:**

1.  **Программа Hello world!**

Рассмотрим пример простой программы на языке ассемблера NASM.
Традиционно первая программа выводит приветственное сообщение Hello
world! на экран.

Создадим каталог для работы с программами на языке ассемблера NASM,
перейдем в него, создадим текстовый файл с именем hello.asm и откроем
его (рис. 1).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image1.png)


Рис. 1. Создание файла hello.asm

Введём в него следующий текст (рис. 2).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image2.png)

Рис. 2. Код программы hello

2.  **Транслятор NASM.**

Затем скомпилируем программу Hello world! (рис. 3).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image3.png)

Рис. 3. Компиляция программы

Как видим, образовался объектный файл, значит компиляция прошла успешно.

3.  **Расширенный синтаксис командной строки NASM.**

Полный вариант командной строки nasm выглядит следующим образом (рис.
4).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image4.png)

Рис. 4. Командная строка nasm

Выполним следующую команду, а затем проверим, что файлы были созданы
(рис. 5).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image5.png)

Рис. 5. Команда nasm

Данная команда скомпилирует исходный файл hello.asm в obj.o (опция - o
позволяет задать имя объектного файла, в данном случае obj.o), при этом
формат выходного файла будет elf, и в него будут включены символы для
отладки (опция -g), кроме того, будет создан файл листинга list.lst
(опция -l).

4.  **Компоновщик LD.**

Чтобы получить исполняемую программу, объектный файл необходимо передать
на обработку компоновщику, затем проверим, что исполняемый файл был
создан (рис. 6).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image6.png)

Рис. 6. Исполняемый файл 1

Затем создадим еще один исполняемый файл, как видим, его название стало
main (рис. 7).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image7.png)

Рис. 7. Исполняемый файл 2

Затем запустим созданный исполняемый файл с помощью следующей команды
(рис. 8).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image8.png)

Рис. 8. Запуск программы

Как видим, все сработало корректно.

**Порядок выполнения самостоятельной работы:**

В том же каталоге создадим копию файла hello.asm с именем lab5.asm и
внесем в него изменения, чтобы программа выводила на экран мои фамилию и
имя (рис. 9-10).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image9.png)

Рис. 9. Копия файла hello.asm

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image10.png)

Рис. 10. Изменения в программе

Затем оттранслируем полученный текст программы в объектный файл.
Выполним компоновку объектного файла и запустим получившийся исполняемый
файл (рис. 11).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image11.png)

Рис. 11. Программа lab5

Как видим, все работает.

Скопируем файлы hello.asm и lab5.asm в локальный репозиторий и загрузим
эти файлы на Github (рис. 12-13).

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image12.png)

Рис. 12. Копирование файлов

![](/home/aavolgin/work/study/2022-2023/Архитектура компьютера/arch-pc/labs/lab05/report/image/image13.png)

Рис. 13. Загрузка на гитхаб

**Вывод:**

Во время лабораторной работы были освоены процедуры компиляции и сборки
программ, написанных на ассемблере NASM.
