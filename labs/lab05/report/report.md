**РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**

**Факультет физико-математических и естественных наук**

**Кафедра прикладной информатики и теории вероятностей**

**ОТЧЕТ**

**по лабораторной работе № [5]{.ul}**

*[дисциплина: Архитектура компьютера]{.ul}*

[Студент: Волгин А.А.]{.ul}

Группа: НПИбд-01-22

**МОСКВА**

2022 г.

**Цель работы:**

Освоение процедуры компиляции и сборки программ, написанных на
ассемблере NASM.

**Порядок выполнения лабораторной работы:**

1.  **Программа Hello world!**

Рассмотрим пример простой программы на языке ассемблера NASM.
Традиционно первая программа выводит приветственное сообщение Hello
world! на экран.

Создадим каталог для работы с программами на языке ассемблера NASM,
перейдем в него, создадим текстовый файл с именем hello.asm и откроем
его (рис. 1).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image1.png){width="5.5447364391951in"
height="1.075in"}

Рис. 1. Создание файла hello.asm

Введём в него следующий текст (рис. 2).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image2.png){width="6.496527777777778in"
height="4.067361111111111in"}

Рис. 2. Код программы hello

2.  **Транслятор NASM.**

Затем скомпилируем программу Hello world! (рис. 3).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image3.png){width="5.515043744531933in"
height="1.0916666666666666in"}

Рис. 3. Компиляция программы

Как видим, образовался объектный файл, значит компиляция прошла успешно.

3.  **Расширенный синтаксис командной строки NASM.**

Полный вариант командной строки nasm выглядит следующим образом (рис.
4).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image4.png){width="6.355384951881015in"
height="0.9in"}

Рис. 4. Командная строка nasm

Выполним следующую команду, а затем проверим, что файлы были созданы
(рис. 5).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image5.png){width="5.948746719160105in"
height="0.7917771216097987in"}

Рис. 5. Команда nasm

Данная команда скомпилирует исходный файл hello.asm в obj.o (опция - o
позволяет задать имя объектного файла, в данном случае obj.o), при этом
формат выходного файла будет elf, и в него будут включены символы для
отладки (опция -g), кроме того, будет создан файл листинга list.lst
(опция -l).

4.  **Компоновщик LD.**

Чтобы получить исполняемую программу, объектный файл необходимо передать
на обработку компоновщику, затем проверим, что исполняемый файл был
создан (рис. 6).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image6.png){width="4.771499343832021in"
height="0.8126137357830271in"}

Рис. 6. Исполняемый файл 1

Затем создадим еще один исполняемый файл, как видим, его название стало
main (рис. 7).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image7.png){width="4.583973097112861in"
height="0.7709405074365704in"}

Рис. 7. Исполняемый файл 2

Затем запустим созданный исполняемый файл с помощью следующей команды
(рис. 8).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image8.png){width="3.9976377952755904in"
height="0.8916666666666667in"}

Рис. 8. Запуск программы

Как видим, все сработало корректно.

**Порядок выполнения самостоятельной работы:**

В том же каталоге создадим копию файла hello.asm с именем lab5.asm и
внесем в него изменения, чтобы программа выводила на экран мои фамилию и
имя (рис. 9-10).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image9.png){width="5.052788713910761in"
height="0.8647036307961505in"}

Рис. 9. Копия файла hello.asm

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image10.png){width="6.396725721784777in"
height="4.1047397200349955in"}

Рис. 10. Изменения в программе

Затем оттранслируем полученный текст программы в объектный файл.
Выполним компоновку объектного файла и запустим получившийся исполняемый
файл (рис. 11).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image11.png){width="6.136272965879265in"
height="1.354355861767279in"}

Рис. 11. Программа lab5

Как видим, все работает.

Скопируем файлы hello.asm и lab5.asm в локальный репозиторий и загрузим
эти файлы на Github (рис. 12-13).

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image12.png){width="6.496527777777778in"
height="1.4083333333333334in"}

Рис. 12. Копирование файлов

![](vertopal_4af68b20d05a495596270a2b09904f73/media/image13.png){width="6.496527777777778in"
height="2.9145833333333333in"}

Рис. 13. Загрузка на гитхаб

**Вывод:**

Во время лабораторной работы были освоены процедуры компиляции и сборки
программ, написанных на ассемблере NASM.
